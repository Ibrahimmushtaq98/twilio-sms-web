{"version":3,"sources":["context/AuthenticationProvider.jsx","hook/useGetTwilioAccount.js","component/AuthenticationPage/AuthenticationPageView.jsx","component/DefaultLayout/DefaultLayout.jsx","component/ErrorLabel/ErrorLabel.jsx","component/AuthenticationPage/AuthenticationPage.jsx","hook/useGetTwilioMessages.js","component/MessageList/MessageList.jsx","hook/useSendTwilioMessage.js","component/SuccessLabel/SuccessLabel.jsx","component/InputField/InputField.jsx","component/TextAreaField/TextAreaField.jsx","component/MessageComposer/MessageComposer.jsx","component/MessagesPage/MessagesPageView.jsx","hook/useGetTwilioPhoneNumbers.js","component/PhoneNumberSelector/PhoneNumberSelector.jsx","component/MessagesPage/MessagesPage.jsx","App.js","reportWebVitals.js","index.js"],"names":["AuthenticationReadContext","React","createContext","AuthenticationWriteContext","useAuthentication","useContext","AuthenticationProvider","children","useState","value","setValue","Provider","v","useGetTwilioAccount","onSuccess","onError","onComplete","accountSid","authToken","url","axios","get","auth","username","password","then","response","catch","error","AuthenticateForm","loading","onAccountSidChange","onAuthTokenChange","onSubmit","className","type","name","onChange","e","target","disabled","placeholder","AccountDetails","accountInfo","Object","keys","length","style","marginTop","marginBottom","status","dateCreated","dateUpdated","DefaultLayout","history","useHistory","padding","onClick","push","href","rel","GithubOutlined","ErrorLabel","margin","Error","message","String","AuthenticationPage","authentication","setAuthentication","setAccountInfo","setAccountSid","setAuthToken","setLoading","setError","getTwilioAccount","info","data","friendly_name","date_created","date_updated","err","event","preventDefault","useGetTwilioMessages","a","phoneNumber","result","params","From","fromResult","To","toResult","concat","messages","sortByDate","b","Date","parse","sort","Loading","LoadingOutlined","MessageList","setMessages","hasMounted","setHasMounted","previousPhoneNumber","setPreviousPhoneNumber","handleSuccess","useCallback","messagesMapped","map","messageSid","sid","direction","from","to","date","body","getMessages","useEffect","MessagePanel","toLocaleString","useSendTwilioMessage","URLSearchParams","append","post","headers","SuccessLabel","text","InputField","label","pristineHint","invalidHint","validHint","validation","isRequired","isPristine","setPristine","validationValue","isValid","labelClass","showInvalid","showValid","required","onBlur","TextAreaField","rows","MessageComposer","isMessageSent","setMessageSent","setTo","setMessage","sendMessage","setTimeout","replace","match","Tabs","activeTab","setActiveTab","isMessagesActive","isComposerActive","messagesTabClass","composerTabClass","useGetTwilioPhoneNumbers","PhoneNumberSelector","onPhoneNumberChange","phoneNumbers","setPhoneNumbers","getPhoneNumbers","incoming_phone_numbers","filter","pn","capabilities","sms","phone_number","maskPhoneNumber","substr","phoneNumberOptions","placeHolderText","isLoading","options","MessagesPage","setPhoneNumber","isPhoneNumberSelected","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9692ab86.chunk.js","sourcesContent":["import React, {useContext, useState} from \"react\";\n\nconst AuthenticationReadContext = React.createContext({})\nconst AuthenticationWriteContext = React.createContext(() => {})\n\nexport const useAuthentication = () => {\n  const value = useContext(AuthenticationReadContext)\n  const setValue = useContext(AuthenticationWriteContext)\n  return [value, setValue]\n}\n\nexport const AuthenticationProvider = ({children}) => {\n  const [value, setValue] = useState({})\n  return (\n    <AuthenticationReadContext.Provider value={value}>\n      <AuthenticationWriteContext.Provider value={v => setValue(v)}>\n        {children}\n      </AuthenticationWriteContext.Provider>\n    </AuthenticationReadContext.Provider>\n  )\n}\n","import axios from \"axios\";\n\nconst useGetTwilioAccount = ({onSuccess = () => {},\n                                onError = () => {},\n                                onComplete = () => {}\n                              }) => {\n  const getAccount = ({accountSid, authToken}) => {\n    const url = `https://api.twilio.com/2010-04-01/Accounts/${accountSid}.json`\n    axios.get(url,\n      {\n        auth: { username: accountSid, password: authToken }\n      })\n      .then(response => onSuccess(response))\n      .catch(error => onError(error))\n      .then(() => onComplete())\n  }\n\n  return getAccount\n}\n\nexport default useGetTwilioAccount","export const AuthenticateForm = ({ accountSid = '',\n                                   authToken = '',\n                                   loading = true,\n                                   onAccountSidChange = () => {},\n                                   onAuthTokenChange = () => {},\n                                   onSubmit = () => {}}) => (\n  <>\n    <form onSubmit={onSubmit}>\n      <label className=\"form-label\">Account SID\n        <input className=\"form-input\" type=\"text\" name=\"AccountSid\"\n               value={accountSid}\n               onChange={e => onAccountSidChange(e.target.value)}\n               disabled={loading} placeholder=\"See Twilio console 'Account SID' \"\n        />\n      </label>\n      <label className=\"form-label\">Auth Token\n        <input className=\"form-input\" type=\"password\" name=\"AuthToken\"\n               value={authToken}\n               onChange={e => onAuthTokenChange(e.target.value)}\n               disabled={loading} placeholder=\"See Twilio console 'Auth Token'\"\n        />\n      </label>\n      <div className=\"text-center m-2\">\n        <button className={`btn btn-primary ${loading ? 'loading' : ''}`} type=\"submit\">Authenticate</button>\n      </div>\n    </form>\n  </>\n)\n\nexport const AccountDetails = ({accountInfo = ''}) => {\n  if (Object.keys(accountInfo).length === 0) return null\n  return (\n    <div className=\"flex-centered\" style={{marginTop: '2em'}}>\n      <div className=\"card\">\n        <div className=\"card-header bg-success text-center\">\n          <h6>Authentication Success</h6>\n        </div>\n        <div className=\"card-body\">\n          <p className=\"text-small\" style={{marginBottom: '.5em'}}>You are authenticated with the following account:</p>\n          <span className=\"text-bold\">Name: </span>{accountInfo.name}<br/>\n          <span className=\"text-bold\">Type: </span>{accountInfo.type}<br/>\n          <span className=\"text-bold\">Status: </span>{accountInfo.status}<br/>\n          <span className=\"text-bold\">Created: </span>{accountInfo.dateCreated}<br/>\n          <span className=\"text-bold\">Updated: </span>{accountInfo.dateUpdated}<br/>\n        </div>\n      </div>\n    </div>\n  )\n}","import { GithubOutlined } from '@ant-design/icons';\nimport { useHistory } from \"react-router-dom\";\n\nconst DefaultLayout = ({children}) => {\n  const history = useHistory()\n\n  const navigateToAuthenticationPage = () => {\n    history.push('/authentication')\n  }\n  const navigateToPhoneNumbersPage = () => {\n    history.push('/phone-numbers')\n  }\n\n  return (\n    <>\n      <div className=\"container grid-lg\">\n        <header className=\"navbar bg-primary\" style={{padding: '.5em'}}>\n          <section className=\"navbar-section\">\n            <span className=\"btn btn-link text-light\" onClick={navigateToAuthenticationPage}>Authentication</span>\n            <span className=\"btn btn-link text-light\" onClick={navigateToPhoneNumbersPage}>Messages</span>\n          </section>\n          <section className=\"navbar-center\">\n            <span className=\"h5\">Twilio SMS Web</span>\n          </section>\n          <section className=\"navbar-section\">\n            <a className=\"btn btn-link text-light\" href=\"https://github.com/rafasantos/twilio-sms-web\" target=\"_blank\" rel=\"noreferrer\">\n              GitHub <GithubOutlined/>\n            </a>\n          </section>\n        </header>\n      </div>\n      <div className=\"container grid-lg text-left\" style={{marginTop: '1em'}}>\n        {children}\n      </div>\n    </>\n  )\n}\n\nexport default DefaultLayout","const ErrorLabel = ({error}) => {\n  const toString = () => {\n    if (error instanceof Error) {\n      return `${error.name}: ${error.message}`\n    }\n    return `Error: ${String(error)}`\n  }\n\n  if (error) {\n    return <span className=\"label label-error\" style={{padding: '.5em', margin: '.5em 0em .5em 0em'}}>\n      {toString(error)}\n    </span>\n  }\n\n  return null\n}\n\nexport default ErrorLabel","import {useAuthentication} from \"../../context/AuthenticationProvider\";\nimport {useState} from \"react\";\nimport useGetTwilioAccount from \"../../hook/useGetTwilioAccount\";\nimport {AccountDetails, AuthenticateForm} from \"./AuthenticationPageView\";\nimport DefaultLayout from \"../DefaultLayout/DefaultLayout\";\nimport ErrorLabel from \"../ErrorLabel/ErrorLabel\";\n\nconst AuthenticationPage = () => {\n  const [authentication, setAuthentication] = useAuthentication()\n  const [accountInfo, setAccountInfo] = useState(authentication.accountInfo)\n  const [accountSid, setAccountSid] = useState(authentication.accountSid)\n  const [authToken, setAuthToken] = useState(authentication.authToken)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n\n  const handleGetAccountsSuccess = (response) => {\n    const info = {\n      name: response.data.friendly_name,\n      type: response.data.type,\n      status: response.data.status,\n      dateCreated: response.data.date_created,\n      dateUpdated: response.data.date_updated,\n    }\n    setAccountInfo(info)\n    setAuthentication({accountSid, authToken, accountInfo: info})\n  }\n\n  const handleGetAccountsComplete = () => {\n    setLoading(false)\n  }\n\n  const handleError = (err) => {\n    setError(err)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    setLoading(true)\n    getTwilioAccount({accountSid, authToken})\n  }\n\n  const getTwilioAccount = useGetTwilioAccount({\n    onSuccess: handleGetAccountsSuccess,\n    onError: handleError,\n    onComplete: handleGetAccountsComplete\n  })\n\n  return <DefaultLayout>\n    <h4>Authentication</h4>\n    <ErrorLabel error={error}/>\n    <AuthenticateForm\n      accountSid={accountSid}\n      authToken={authToken}\n      loading={loading}\n      onAccountSidChange={v => setAccountSid(v)}\n      onAuthTokenChange={v => setAuthToken(v)}\n      onSubmit={handleSubmit} />\n    <AccountDetails accountInfo={accountInfo}/>\n  </DefaultLayout>\n}\n\nexport default AuthenticationPage","import axios from \"axios\";\nimport {useAuthentication} from \"../context/AuthenticationProvider\";\n\nconst useGetTwilioMessages = () => {\n\n  const [authentication] = useAuthentication()\n\n  const request = async ({phoneNumber}) => {\n    const url = `https://api.twilio.com/2010-04-01/Accounts/${authentication.accountSid}/Messages.json`\n    let result = []\n       const fromResult = await axios.get(url,\n        {\n          auth: { username: authentication.accountSid, password: authentication.authToken },\n          params: {From: phoneNumber}\n        })\n      const toResult = await axios.get(url,\n        {\n          auth: { username: authentication.accountSid, password: authentication.authToken },\n          params: {To: phoneNumber}\n        })\n      result = result\n        .concat(fromResult.data.messages)\n        .concat(toResult.data.messages)\n    const sortByDate = (a,b) => Date.parse(a.date_created) > Date.parse(b.date_created) ? -1 : 1\n    return result.sort(sortByDate)\n  }\n\n  return request\n}\n\nexport default useGetTwilioMessages","import {useCallback, useEffect, useState} from \"react\";\nimport useGetTwilioMessages from \"../../hook/useGetTwilioMessages\";\nimport \"./MessageList.css\";\nimport {LoadingOutlined} from \"@ant-design/icons\";\n\nconst Loading = () => <>\n  <div className=\"text-center message-list-loading-container\">\n    <LoadingOutlined className=\"message-list-loading text-primary\" />\n  </div>\n</>\n\nconst MessageList = ({phoneNumber = '', onComplete = () => {}, onError = () => {}}) => {\n  const [loading, setLoading] = useState(true)\n  const [messages, setMessages] = useState([])\n  const [hasMounted, setHasMounted] = useState(false)\n  const [previousPhoneNumber, setPreviousPhoneNumber] = useState(null);\n\n  const handleSuccess = useCallback((response) => {\n    const messagesMapped = response\n      .map(v => ({\n        messageSid: v.sid,\n        direction: v.direction,\n        from: v.from,\n        to: v.to,\n        date: v.date_created,\n        status: v.status,\n        body: v.body\n      }))\n    setMessages(messagesMapped)\n    setLoading(false)\n  }, [setMessages, setLoading])\n\n  const getMessages = useGetTwilioMessages({\n    onSuccess: handleSuccess,\n    onComplete: onComplete,\n    onError: onError\n  })\n\n  useEffect(() => {\n    setHasMounted(true)\n  }, [setHasMounted])\n\n  useEffect(() => {\n    if (hasMounted && (phoneNumber?.length > 0 && previousPhoneNumber !== phoneNumber)) {\n      getMessages({phoneNumber: phoneNumber}).then(handleSuccess).catch(onError).then(onComplete)\n      setPreviousPhoneNumber(phoneNumber)\n      setLoading(true)\n    }\n  }, [hasMounted, phoneNumber, previousPhoneNumber, getMessages, messages, handleSuccess, onError, onComplete, setPreviousPhoneNumber, setLoading])\n\n  const MessagePanel = ({message}) => (\n    <div className=\"panel message-list-panel\">\n      <div className=\"panel-header text-small\">\n        <div className=\"message-list-header\">\n          <div><strong>from:</strong> {message.from}</div>\n          <div><strong>To:</strong> {message.to}</div>\n          <div><strong>Direction:</strong> {message.direction}</div>\n          <div><strong>Status:</strong> {message.status}</div>\n        </div>\n      </div>\n      <div className=\"panel-body text-code\">\n        {message.body}\n      </div>\n      <div className=\"panel-footer text-small text-gray\">\n        Date: {new Date(message.date)?.toLocaleString()}\n      </div>\n    </div>\n  )\n\n  if (loading) return <Loading/>\n\n  return messages.map(v => <MessagePanel key={v.messageSid}  message={v}/> )\n}\n\nexport default MessageList","import axios from \"axios\";\nimport {useAuthentication} from \"../context/AuthenticationProvider\";\n\nconst useSendTwilioMessage = ({ onSuccess = () => {},\n                                onError = () => {},\n                                onComplete = () => {}\n                              }) => {\n\n  const [authentication] = useAuthentication()\n\n  const request = ({to, from, body}) => {\n    const data = new URLSearchParams()\n    data.append('To', to)\n    data.append('From', from)\n    data.append('Body', body)\n\n    const url = `https://api.twilio.com/2010-04-01/Accounts/${authentication.accountSid}/Messages.json`\n    axios.post(url, data , {\n        auth: {\n          username: authentication.accountSid,\n          password: authentication.authToken\n        },\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n      })\n      .then(response => onSuccess(response))\n      .catch(error => onError(error))\n      .then(() => onComplete())\n  }\n\n  return request\n}\n\nexport default useSendTwilioMessage","const SuccessLabel = ({text}) => {\n  if (text !== null && text.length > 0) {\n    return <span className=\"label label-success\" style={{padding: '.5em', margin: '.5em 0em .5em 0em'}}>\n      {text}\n    </span>\n  }\n  return null\n}\n\nexport default SuccessLabel","import {useState} from \"react\";\n\nconst InputField = ({ value='',\n                      label='Label',\n                      pristineHint='Enter a value',\n                      invalidHint='Invalid value',\n                      validHint='',\n                      validation=()=>null,\n                      placeholder='Input placeholder',\n                      isRequired=false,\n                      type='text',\n                      onChange=()=>{}}) => {\n  const [isPristine, setPristine] = useState(true);\n  const validationValue = validation(value)\n  const isValid = validationValue === null ? false : validationValue\n  const labelClass = `form-label ${ isPristine || isValid ? '' : 'has-error'}`\n  const showInvalid = !isPristine && !isValid\n  const showValid = !isPristine && isValid\n  return <label className={labelClass}>{label}:{isRequired && <sup className=\"text-error\">&lowast; </sup>}\n    <input\n      type={type}\n      className=\"form-input\"\n      placeholder={placeholder}\n      required={isRequired}\n      value={value}\n      onChange={onChange}\n      onBlur={() => setPristine(false)}/>\n    {showValid && <span className=\"form-input-hint\">{validHint}</span>}\n    {showInvalid && <span className=\"form-input-hint\">{invalidHint}</span>}\n    {isPristine && <span className=\"form-input-hint\">{pristineHint}</span>}\n  </label>\n}\n\nexport default InputField","import {useState} from \"react\";\n\nconst TextAreaField = ({ value='',\n                         label='Label',\n                         pristineHint='Enter a value',\n                         invalidHint='Invalid value',\n                         validHint='',\n                         validation=()=>null,\n                         placeholder='Input placeholder',\n                         isRequired=false,\n                         rows=5,\n                         onChange=()=>{}}) => {\n  const [isPristine, setPristine] = useState(true);\n  const validationValue = validation(value)\n  const isValid = validationValue === null ? false : validationValue\n  const labelClass = `form-label ${ isPristine || isValid ? '' : 'has-error'}`\n  const showInvalid = !isPristine && !isValid\n  const showValid = !isPristine && isValid\n  return <label className={labelClass}>{label}:{isRequired && <sup className=\"text-error\">&lowast; </sup>}\n    <textarea\n      className=\"form-input\"\n      placeholder={placeholder}\n      required={isRequired}\n      value={value}\n      rows={rows}\n      onChange={onChange}\n      onBlur={() => setPristine(false)}>\n    </textarea>\n    {showValid && <span className=\"form-input-hint\">{validHint}</span>}\n    {showInvalid && <span className=\"form-input-hint\">{invalidHint}</span>}\n    {isPristine && <span className=\"form-input-hint\">{pristineHint}</span>}\n  </label>\n}\n\nexport default TextAreaField","import {useState} from \"react\";\nimport \"./MessageComposer.css\"\nimport useSendTwilioMessage from \"../../hook/useSendTwilioMessage\";\nimport SuccessLabel from \"../SuccessLabel/SuccessLabel\";\nimport ErrorLabel from \"../ErrorLabel/ErrorLabel\";\nimport InputField from \"../InputField/InputField\";\nimport TextAreaField from \"../TextAreaField/TextAreaField\";\n\nconst MessageComposer = ({phoneNumber = ''}) => {\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n  const [isMessageSent, setMessageSent] = useState(false)\n  const [to, setTo] = useState('+')\n  const [message, setMessage] = useState('')\n  const toValidationPattern = '^\\\\+\\\\d{11}'\n  const messageValidationPattern = '[\\\\w\\\\d]{3,}'\n\n  const handleSendMessageSuccess = (response) => {\n    setMessageSent(true)\n    setTimeout(()=> setMessageSent(false), 5000)\n  }\n\n  const handleError = (err) => {\n    setError(err)\n  }\n\n  const handleMessageSentComplete = () => {\n    setLoading(false)\n  }\n\n  const sendMessage = useSendTwilioMessage({\n    onSuccess: handleSendMessageSuccess,\n    onError: handleError,\n    onComplete: handleMessageSentComplete\n  })\n\n  const handleOnSubmit = (event) => {\n    event.preventDefault()\n    setLoading(true)\n    sendMessage({to: to, from: phoneNumber, body: message})\n  }\n\n  const handleToChange = (event) => {\n    const v = '+' + event.target.value.replace(/\\D/g, '')\n    if (v.length < 13) {\n      setTo(v)\n    }\n  }\n\n  const handleMessageChange = (event) => {\n    const v = event.target.value\n    if (v.length < 200) {\n      setMessage(v)\n    }\n  }\n\n  return <div>\n    <ErrorLabel error={error}/>\n    <form className=\"form-group\" onSubmit={handleOnSubmit}>\n      <fieldset disabled={loading}>\n        <InputField\n          label=\"To\"\n          type='tel'\n          value={to}\n          onChange={handleToChange}\n          validation={v => v.match(toValidationPattern)}\n          placeholder=\"Enter the recipient's phone number\"\n          pristineHint=\"Enter the recipient's phone number\"\n          invalidHint=\"Phone number is invalid, it must contain the country followed by 10 digits\"\n          validHint=\"Phone number is valid\"\n          isRequired={true}\n        />\n        <TextAreaField\n          label=\"Message\"\n          value={message}\n          isRequired={true}\n          placeholder={`Enter the message to sent to: ${to} from: ${phoneNumber}`}\n          pristineHint={`Enter the message to sent to: ${to} from: ${phoneNumber}`}\n          validHint={`This message is going to be sent to: ${to} from: ${phoneNumber}`}\n          invalidHint=\"Invalid message, it must be between 3 and 200 characters\"\n          rows='3'\n          validation={v => v.match(messageValidationPattern)}\n          onChange={handleMessageChange}\n        />\n      </fieldset>\n      <div className=\"text-center m-2\">\n        <button className={`message-composer-submit btn btn-primary ${loading ? 'loading' : ''}`} type=\"submit\">Send</button>\n      </div>\n    </form>\n    <div className=\"text-center\">\n      {isMessageSent && <SuccessLabel text=\"Message sent successfully.\"/>}\n    </div>\n  </div>\n}\n\nexport default MessageComposer","import \"./MessagesPage.css\"\nimport MessageList from \"../MessageList/MessageList\";\nimport MessageComposer from \"../MessageComposer/MessageComposer\";\nimport {useState} from \"react\";\n\nexport const Tabs = ({phoneNumber=''}) => {\n  const [activeTab, setActiveTab] = useState('messages')\n  const handleActivateMessages = () => setActiveTab('messages')\n  const handleActivateComposer = () => setActiveTab('composer')\n  const isMessagesActive = activeTab === 'messages'\n  const isComposerActive = activeTab === 'composer'\n  const messagesTabClass = `tab-item messages-page-tabs-area ${isMessagesActive ? 'active' : ''}`\n  const composerTabClass = `tab-item messages-page-tabs-area ${isComposerActive ? 'active' : ''}`\n\n  return <>\n    <div className=\"messages-page-tabs-container\">\n      <div className=\"messages-page-tabs-content\">\n        <ul className=\"tab tab-block\">\n          <li className={messagesTabClass} onClick={handleActivateMessages}>\n            Messages\n          </li>\n          <li className={composerTabClass} onClick={handleActivateComposer}>\n            Composer\n          </li>\n        </ul>\n      </div>\n    </div>\n    {isMessagesActive && <MessageList phoneNumber={phoneNumber}/>}\n    {isComposerActive && <MessageComposer phoneNumber={phoneNumber}/>}\n  </>\n}","import axios from \"axios\";\nimport {useAuthentication} from \"../context/AuthenticationProvider\";\n\nconst useGetTwilioPhoneNumbers = ({onSuccess = () => {},\n                                onError = () => {},\n                                onComplete = () => {}\n                              }) => {\n\n  const [authentication] = useAuthentication()\n\n  const getPhoneNumbers = () => {\n    const url = `https://api.twilio.com/2010-04-01/Accounts/${authentication.accountSid}/IncomingPhoneNumbers.json?Beta=false`\n    axios.get(url,\n      {\n        auth: { username: authentication.accountSid, password: authentication.authToken }\n      })\n      .then(response => onSuccess(response))\n      .catch(error => onError(error))\n      .then(() => onComplete())\n  }\n\n  return getPhoneNumbers\n}\n\nexport default useGetTwilioPhoneNumbers","import Select from 'react-select'\nimport {useEffect, useState} from \"react\";\nimport useGetTwilioPhoneNumbers from \"../../hook/useGetTwilioPhoneNumbers\";\nimport \"./PhoneNumberSelector.css\"\n\nconst PhoneNumberSelector = ({ onError = () => {},\n                               onComplete = () => {},\n                               onPhoneNumberChange = () => {}}) => {\n  const [loading, setLoading] = useState(true);\n  const [phoneNumbers, setPhoneNumbers] = useState([])\n\n  const handleOnComplete = () => {\n    setLoading(false)\n    onComplete()\n  }\n\n  const handleOnChange = (event) => {\n    onPhoneNumberChange(event.value)\n  }\n\n  const handleGetPhoneNumberSuccess = (response) => {\n    const result = response?.data?.incoming_phone_numbers\n      .filter(pn => pn.capabilities.sms)\n      .map(pn => pn.phone_number)\n      .sort()\n    setPhoneNumbers(result)\n  }\n\n  const getPhoneNumbers = useGetTwilioPhoneNumbers({\n    onSuccess: handleGetPhoneNumberSuccess,\n    onError: onError,\n    onComplete: handleOnComplete\n  })\n\n  // TODO: Currently, this mask is limited to country code +1; we need a mask for all country codes\n  const maskPhoneNumber = v => {\n    let result = v.substr(0, 2)\n    result += ' ' + v.substr(2, 3)\n    result += ' ' + v.substr(5, 3)\n    result += ' ' + v.substr(8)\n    return result\n  }\n\n  const phoneNumberOptions = phoneNumbers.map(v => ({value: v, label: maskPhoneNumber(v)}))\n\n  const placeHolderText = loading ? 'Loading phone numbers...' : 'Select (or type) a phone number...'\n\n  // Get available phone number on first render\n  useEffect(() => {\n    if (phoneNumbers.length === 0) {\n      getPhoneNumbers()\n    }\n  }, [getPhoneNumbers, phoneNumbers])\n\n  return <Select\n      placeholder={placeHolderText}\n      isLoading={loading}\n      options={phoneNumberOptions}\n      onChange={handleOnChange}\n  />\n}\n\nexport default PhoneNumberSelector","import {useState} from \"react\";\nimport {Tabs} from \"./MessagesPageView\";\nimport {useAuthentication} from \"../../context/AuthenticationProvider\";\nimport {useHistory} from \"react-router-dom\";\nimport DefaultLayout from \"../DefaultLayout/DefaultLayout\";\nimport ErrorLabel from \"../ErrorLabel/ErrorLabel\";\nimport PhoneNumberSelector from \"../PhoneNumberSelector/PhoneNumberSelector\";\n\nconst MessagesPage = () => {\n  const [error, setError] = useState(null)\n  const [phoneNumber, setPhoneNumber] = useState('')\n  const [authentication] = useAuthentication()\n  const history = useHistory()\n\n  // TODO: Move this to a router guard\n  if (!authentication?.accountSid) {\n    history.push('/authentication')\n    return null\n  }\n\n  const handleError = (err) => setError(err)\n\n  const handlePhoneNumberChange = (v) => setPhoneNumber(v)\n\n  const isPhoneNumberSelected = phoneNumber.length === 12\n\n  return <DefaultLayout>\n    <h4>Messages</h4>\n    <ErrorLabel error={error}/>\n    <PhoneNumberSelector onError={handleError} onPhoneNumberChange={handlePhoneNumberChange}/>\n    {isPhoneNumberSelected && <Tabs phoneNumber={phoneNumber}/>}\n  </DefaultLayout>\n}\n\nexport default MessagesPage","import './App.css'\n\nimport React from \"react\";\nimport {HashRouter, Route, Switch} from \"react-router-dom\";\n\nimport {AuthenticationProvider} from \"./context/AuthenticationProvider\";\nimport AuthenticationPage from \"./component/AuthenticationPage/AuthenticationPage\"\nimport MessagesPage from \"./component/MessagesPage/MessagesPage\"\n\n/*\n * Spectre CSS Imports\n * See: https://picturepan2.github.io/spectre/getting-started/installation.html\n */\nimport 'spectre.css/dist/spectre.min.css'\nimport 'spectre.css/dist/spectre-exp.css'\nimport 'spectre.css/dist/spectre-icons.css'\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <AuthenticationProvider>\n        <HashRouter>\n          <Switch>\n            <Route exact path=\"/\" component={AuthenticationPage}/>\n            <Route path=\"/authentication\" component={AuthenticationPage}/>\n            <Route path=\"/phone-numbers\" component={MessagesPage}/>\n          </Switch>\n        </HashRouter>\n      </AuthenticationProvider>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}