(this["webpackJsonptwilio-sms-web"]=this["webpackJsonptwilio-sms-web"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(25),o=n.n(s),r=(n(32),n(33),n(14)),i=n(2),l=n(3),u=n(0),d=a.a.createContext({}),j=a.a.createContext((function(){})),b=function(){return[Object(c.useContext)(d),Object(c.useContext)(j)]},h=function(e){var t=e.children,n=Object(c.useState)({}),a=Object(l.a)(n,2),s=a[0],o=a[1];return Object(u.jsx)(d.Provider,{value:s,children:Object(u.jsx)(j.Provider,{value:function(e){return o(e)},children:t})})},m=n(11),x=n.n(m),O=function(e){var t=e.onSuccess,n=void 0===t?function(){}:t,c=e.onError,a=void 0===c?function(){}:c,s=e.onComplete,o=void 0===s?function(){}:s;return function(e){var t=e.accountSid,c=e.authToken,s="https://api.twilio.com/2010-04-01/Accounts/".concat(t,".json");x.a.get(s,{auth:{username:t,password:c}}).then((function(e){return n(e)})).catch((function(e){return a(e)})).then((function(){return o()}))}},f=function(e){var t=e.error;return t?Object(u.jsx)("span",{className:"label label-error",style:{padding:".5em",margin:".5em 0em .5em 0em"},children:t instanceof Error?"".concat(t.name,": ").concat(t.message):"Error: ".concat(String(t))}):null},p=n(67),v=function(e){var t=e.children,n=Object(i.f)();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"container grid-lg",children:Object(u.jsxs)("header",{className:"navbar bg-primary",style:{padding:".5em"},children:[Object(u.jsxs)("section",{className:"navbar-section",children:[Object(u.jsx)("span",{className:"btn btn-link text-light",onClick:function(){n.push("/authentication")},children:"Authentication"}),Object(u.jsx)("span",{className:"btn btn-link text-light",onClick:function(){n.push("/phone-numbers")},children:"Messages"})]}),Object(u.jsx)("section",{className:"navbar-center",children:Object(u.jsx)("span",{className:"h5",children:"Twilio SMS Web"})}),Object(u.jsx)("section",{className:"navbar-section",children:Object(u.jsxs)("a",{className:"btn btn-link text-light",href:"https://github.com/rafasantos/twilio-sms-web",target:"_blank",rel:"noreferrer",children:["GitHub ",Object(u.jsx)(p.a,{})]})})]})}),Object(u.jsx)("div",{className:"container grid-lg text-left",style:{marginTop:"1em"},children:t})]})},g=function(e){var t=e.accountInfo,n=void 0===t?{}:t,c=e.accountSid,a=void 0===c?"":c,s=e.authToken,o=void 0===s?"":s,r=e.error,i=void 0===r?null:r,l=e.loading,d=void 0!==l&&l,j=e.onAccountSidChange,b=void 0===j?function(){}:j,h=e.onAuthTokenChange,m=void 0===h?function(){}:h,x=e.onSubmit,O=void 0===x?function(){}:x,p=function(){return 0===Object.keys(n).length?null:Object(u.jsx)("div",{className:"flex-centered",style:{marginTop:"2em"},children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header bg-success text-center",children:Object(u.jsx)("h6",{children:"Authentication Success"})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("p",{className:"text-small",style:{marginBottom:".5em"},children:"You are authenticated with the following account:"}),Object(u.jsx)("span",{className:"text-bold",children:"Name: "}),n.name,Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"text-bold",children:"Type: "}),n.type,Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"text-bold",children:"Status: "}),n.status,Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"text-bold",children:"Created: "}),n.dateCreated,Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"text-bold",children:"Updated: "}),n.dateUpdated,Object(u.jsx)("br",{})]})]})})},g=d?"loading":"";return Object(u.jsxs)(v,{children:[Object(u.jsx)("h4",{children:"Authentication"}),Object(u.jsx)(f,{error:i}),Object(u.jsxs)("form",{onSubmit:O,children:[Object(u.jsxs)("label",{className:"form-label",children:["Account SID",Object(u.jsx)("input",{className:"form-input",type:"text",name:"AccountSid",value:a,onChange:function(e){return b(e.target.value)},disabled:d,placeholder:"See Twilio console 'Account SID' "})]}),Object(u.jsxs)("label",{className:"form-label",children:["Auth Token",Object(u.jsx)("input",{className:"form-input",type:"password",name:"AuthToken",value:o,onChange:function(e){return m(e.target.value)},disabled:d,placeholder:"See Twilio console 'Auth Token'"})]}),Object(u.jsx)("div",{className:"text-center m-2",children:Object(u.jsx)("button",{className:"btn btn-primary ".concat(g),type:"submit",children:"Authenticate"})})]}),Object(u.jsx)(p,{})]})},N=function(){var e=b(),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(n.accountInfo),o=Object(l.a)(s,2),r=o[0],i=o[1],d=Object(c.useState)(n.accountSid),j=Object(l.a)(d,2),h=j[0],m=j[1],x=Object(c.useState)(n.authToken),f=Object(l.a)(x,2),p=f[0],v=f[1],N=Object(c.useState)(!1),S=Object(l.a)(N,2),y=S[0],C=S[1],k=Object(c.useState)(null),T=Object(l.a)(k,2),w=T[0],A=T[1],I=O({onSuccess:function(e){var t={name:e.data.friendly_name,type:e.data.type,status:e.data.status,dateCreated:e.data.date_created,dateUpdated:e.data.date_updated};i(t),a({accountSid:h,authToken:p,accountInfo:t})},onError:function(e){A(e)},onComplete:function(){C(!1)}});return Object(u.jsx)(g,{accountInfo:r,accountSid:h,authToken:p,error:w,loading:y,onAccountSidChange:function(e){return m(e)},onAuthTokenChange:function(e){return v(e)},onSubmit:function(e){e.preventDefault(),C(!0),I({accountSid:h,authToken:p})}})},S=function(e){var t=e.onSuccess,n=void 0===t?function(){}:t,c=e.onError,a=void 0===c?function(){}:c,s=e.onComplete,o=void 0===s?function(){}:s,r=b(),i=Object(l.a)(r,1)[0];return function(){var e="https://api.twilio.com/2010-04-01/Accounts/".concat(i.accountSid,"/IncomingPhoneNumbers.json?Beta=false");x.a.get(e,{auth:{username:i.accountSid,password:i.authToken}}).then((function(e){return n(e)})).catch((function(e){return a(e)})).then((function(){return o()}))}},y={phoneNumberContainer:{display:"flex",justifyContent:"center",height:"10em"},phoneNumberLabel:{alignItems:"center",display:"flex",padding:"0em 1em 0em 0em"},phoneNumberSelect:{width:"100%"},loadingPhoneNumbers:{display:"flex",height:"10em",justifyContent:"center",alignItems:"center"}},C=function(e){var t=e.error,n=void 0===t?null:t,c=e.accountName,a=void 0===c?"Unknown account":c,s=e.loadingPhoneNumbers,o=void 0===s||s,r=e.phoneNumbers,i=void 0===r?[]:r,l=function(){return Object(u.jsxs)("div",{style:y.phoneNumberContainer,children:[Object(u.jsxs)("div",{className:"text-center",style:y.phoneNumberLabel,children:["Select a phone number ",Object(u.jsx)("br",{}),"from your account: ",Object(u.jsx)("br",{}),a]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("select",{className:"form-select",multiple:"multiple",size:"5",style:y.phoneNumberSelect,children:i.map((function(e){return Object(u.jsx)("option",{children:e},e)}))}),Object(u.jsxs)("div",{className:"text-small text-center",children:["Total: ",i.length]})]})})]})},d=function(){return Object(u.jsx)("div",{style:y.loadingPhoneNumbers,children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"loading loading-lg"}),Object(u.jsx)("div",{className:"text-center text-small",children:"Loading phone numbers..."})]})})};return Object(u.jsxs)(v,{children:[Object(u.jsx)("h4",{children:"Messages"}),Object(u.jsx)(f,{error:n}),o?Object(u.jsx)(d,{}):Object(u.jsx)(l,{})]})},k=function(){var e,t=b(),n=Object(l.a)(t,1)[0],a=Object(c.useState)(null),s=Object(l.a)(a,2),o=s[0],r=s[1],i=Object(c.useState)(!0),d=Object(l.a)(i,2),j=d[0],h=d[1],m=Object(c.useState)([]),x=Object(l.a)(m,2),O=x[0],f=x[1],p=S({onSuccess:function(e){var t=e.data.incoming_phone_numbers.filter((function(e){return e.capabilities.sms})).map((function(e){return e.phone_number})).sort();f(t)},onError:function(e){return r(e)},onComplete:function(){return h(!1)}});return Object(c.useEffect)((function(){p()}),[]),Object(u.jsx)(C,{accountName:null===n||void 0===n||null===(e=n.accountInfo)||void 0===e?void 0:e.name,error:o,phoneNumbers:O,loadingPhoneNumbers:j})},T=(n(61),n(62),n(63),function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(h,{children:Object(u.jsx)(r.a,{children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",component:N}),Object(u.jsx)(i.a,{path:"/authentication",component:N}),Object(u.jsx)(i.a,{path:"/phone-numbers",component:k})]})})})})}),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root")),w()}},[[64,1,2]]]);
//# sourceMappingURL=main.cb1f35c0.chunk.js.map